html {
  height: 100%;
}

body.full-height {
  height: 100%;
  display: flex;
  flex-direction: column;

  .top_row {
    flex: 0 0;
  }
}

#kerkel-app {
  flex: 1 1;
  height: 100%;

  display: flex;
  align-items: center;
  justify-content: center;

  font-family: $k-font;
  button,
  input,
  optgroup,
  select,
  textarea {
    font-family: $k-font;
  }

  .k-app-container {
    height: rem-calc($k-app-height);
    width: rem-calc($k-left-panel-width + 3*$k-panel-margin + 450);
    display: flex;
    align-items: stretch;
  }

  .k-left-panel {
    flex: 0 0 rem-calc($k-left-panel-width);
    max-width: rem-calc($k-left-panel-width);
    margin-right: rem-calc($k-panel-margin);
    display: flex;
    flex-direction: column;
    align-items: stretch;
    > div {
      margin-bottom: rem-calc($k-panel-margin);
      &:last-child { margin-bottom: 0; }
    }
  }

  .k-content {
    flex: 1 1;
    display: flex;
    align-items: stretch;
    flex-direction: column;
  }

  .k-board-container {
    flex: 1 1;
  }

  .k-wins-container {
    position: relative;
    height: 0;
  }

  // -----------------------------------------

  .k-panel {
    box-shadow: inset 0 0 #{$k-panel-margin}px $k-text-color;
    padding: rem-calc($k-panel-margin);
    background-color: $k-panel-bg-color;
    line-height: 1;
  }

  .k-window {
    position: absolute;
    z-index: 10;
    background-color: $k-panel-bg-color;
    color: $k-text-color;

    .callout {
      margin-bottom: 0;
    }

    p {
      font-size: 80%;
      line-height: 1.1em;
    }

    a {
      color: $k-text-color;
    }

    > .k-window-close {
      position: absolute;
      top: rem-calc(0);
      right: rem-calc(0);
      background-color: $k-panel-bg-color;
      border: 2px solid $k-contrast-color;
      color: $k-contrast-color;
      &:hover {
        color: $k-panel-bg-color;
        background-color: $k-contrast-color;
      }
    }
  }

  // -----------------------------------------

  .k-menu {
    flex: 0 0 rem-calc($k-menu-height);
    max-height: rem-calc($k-menu-height);
    display: flex;
    align-items: stretch;
    > button {
      flex: 1 1;
      margin-right: rem-calc($k-panel-margin);
      &:last-of-type{ margin-right: 0; }
    }
  }

  .k-users-list {
    flex: 2 2;
    word-wrap: break-word;
    overflow-y: auto;
    background-color: $k-panel-bg2-color;

    .k-user {
      border-top: 1px solid $k-contrast-color;
      &:first-of-type { border-top: none; }

      font-size: 80%;
      font-weight: bold;
      padding: rem-calc(3 0 3 0);

      ._status {
        width: rem-calc(10);
        display: inline-block;
        margin: rem-calc(0 5);
        background-color: $k-contrast-color;
        &._online { background-color: $k-text-color; }
      }
    }
  }

  .k-messages-list {
    flex: 5 5;
    overflow-y: auto;
    background-color: $k-panel-bg2-color;
    color: $k-text-color;
    font-size: 75%;

    > div {
      padding: rem-calc(2);
      word-break: break-all;
      > span {
        font-weight: bold;
        margin-right: rem-calc(3);
      }
    }

    &._not_connected {
      position: relative;
      text-align: center;
      color: $k-text-color;
      > span {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
      }
    }
  }

  .k-chat-input {
    flex: 0 0 rem-calc($k-chat-input-height);
    max-height: rem-calc($k-chat-input-height);
    display: flex;
    align-items: stretch;

    > button {
      font-weight: bold;
      flex: 0 0 rem-calc($k-chat-input-height);
      padding: rem-calc(3);
    }

    > input {
      flex: 1 1;
      font-size: $font-size-xs;
      margin: 0;
      min-width: 1px;
      padding: rem-calc(2);
      border: none;
      background-color: $k-panel-bg2-color;
      color: $k-text-color;
      &:focus {
        border: none;
        background-color: $k-panel-bg2-color;
      }
    }
  }

}